Currently, this transformation fails due to Core Lint on some target
programs. This appears to be due to recent changes in the HERMIT API,
and we will have a fix soon. In the meantime, the transformation does
work on Sum.hs and some of the benchmarks.

You need HERMIT built on GHC HEAD to run these. Follow the directions here:

https://github.com/ku-fpg/hermit/wiki/GHC-HEAD

Once that is done:

cd hermit-syb
cabal install
cd ..

hermit Sum.hs -opt=HERMIT.Optimization.SYB +Main mapInt
- or -
hermit Sum.hs -opt=HERMIT.Optimization.SYB +Main mapIntM
- or -
hermit Sum.hs -opt=HERMIT.Optimization.SYB +Main mapInt mapIntM

Note about submodules
=====================

A version of HERMIT that works with this plugin is pegged as
a submodule, in case the most recent HERMIT does not work.
When you first clone this repository, you need to:

git submodule init
git submodule update

to pull down the contents of the submodules.

Whenever you pull new changes that include new submodule hashes, you must:

git submodule update

More information on working with submodules:

http://git-scm.com/book/en/Git-Tools-Submodules
